{"title":"笔记","slug":"page","date":"2017-04-03T06:06:11.000Z","updated":"2017-11-19T13:15:37.000Z","comments":true,"excerpt":"","content":"<h2 id=\"ls\"><a href=\"#ls\" class=\"headerlink\" title=\"ls\"></a>ls</h2><p>ls  -a 　all<br>    -l  额外的信息<br>    -R 递归<br>    -ld 目录和符合链接信息<br>    -1 文件分行显示<br>    -S 按文件大小排序<br>    -t mtime排序<br>    -u 配合-t选项，显示并按atime从新到旧排序<br>    -U 按目录存放顺序显示<br>    -X 按文件后缀排序</p>\n<h2 id=\"stat\"><a href=\"#stat\" class=\"headerlink\" title=\"stat\"></a>stat</h2><p>access time 读取文件内容<br>modify time 改变文件内容(数据)<br>change time 元数据发生改变</p>\n<p>##　文件通配符<br>[:digit]<br>[:lower:]<br>[:upper:]<br>[:alpha:]<br>[:alnum:]<br>[:blank:] 水平空白字符<br>[:space:] 水平或垂直空白字符<br>[:punct:] 标点符号<br>[:print:] 可打印字符<br>[:cntrl:] 控制字符<br>[:graph:] 图形字符<br>[:xigit:] 十六进制字符</p>\n<h2 id=\"cp\"><a href=\"#cp\" class=\"headerlink\" title=\"cp\"></a>cp</h2><p>-i 交互式<br>-r,-R 递归<br>-a 归档，相当与-dR –preserv=all<br>-d: –no-dereference –preserv=link 不复制原文件，只复制链接名<br>–preserv=[=ATTR_LIST]</p>\n<pre><code>mode:权限\nownership:属主属组\ntimestamp:\nlinks\nxattr\ncontext\nall\n</code></pre><p>-p:等于–preserv=mode,ownership,timestamp<br>-v:–verbose</p>\n<h2 id=\"硬链接\"><a href=\"#硬链接\" class=\"headerlink\" title=\"硬链接\"></a>硬链接</h2><p>创建硬链接会增加额外的记录项以引用文件<br>对应与同一文件系统上一个物理文件<br>每个目录引用相同的inode号<br>创建时链接数递增<br>删除文件时:</p>\n<pre><code>rm命令递减计数的链接\n文件要存在，至少有一个链接数\n当链接数为０，文件则被删除\n</code></pre><p>不能跨越分区或驱动器</p>\n<h2 id=\"软链接\"><a href=\"#软链接\" class=\"headerlink\" title=\"软链接\"></a>软链接</h2><p>１．一个符合链接指向另一个文件<br>２．ls -l 显示链接名和引用的文件<br>３．一个符合链接的内容是它引用文件的名称<br>４．可以对目录进行<br>５．可以跨分区<br>５指向的是另一个文件的路径；其大小为指向的路径字符串的长度；不增加或减少目标文件inode的引用计数；</p>\n<h2 id=\"file-确定文件内容\"><a href=\"#file-确定文件内容\" class=\"headerlink\" title=\"file 确定文件内容\"></a>file 确定文件内容</h2><p>file [option] filename<br>-b 列出文件辨识结果，不显示文件名<br>-f 列车指定文件中内容的文件类型<br>-F 使用指定分割符合替换输出文件名后默认的”:”分割符<br>-L 查看对应软链接对应文件的文件类型</p>\n<p>##　管道与重定向</p>\n<pre><code>&gt; 把STDOUT重定向到文件\n２&gt;　把STDERR重定向到文件\n&amp;&gt; 把所有输出重定向到文件\n&gt;文件内容会被覆盖 \nset -C:全局禁止覆盖\nset +C:允许覆盖\n&gt;&gt; 追加\n2&gt; 覆盖重定向错误输出数据流\n２&gt;&gt; 追加重定向错误输出数据流\n():合并多个程序的STDOUT\n( cal 2007 ; cal 2008 ) &gt; all.txt\n</code></pre><h2 id=\"tr\"><a href=\"#tr\" class=\"headerlink\" title=\"tr\"></a>tr</h2><p>tr [option] set1 set2<br>-c 取字符集的补集<br>-d –delete<br>-s 去重复<br>-t 将第一个字符集对应的字符转换为第二个字符集</p>\n<h2 id=\"文件权限\"><a href=\"#文件权限\" class=\"headerlink\" title=\"文件权限\"></a>文件权限</h2><p>文件<br>r 可使用文件查看类工具获取其内容<br>w 可修改其内容<br>x 可以把此文件提请内核启动为一个进程<br>目录<br>r 可以使用ls查看次目录中文件列表<br>w 可在此目录中创建文件，也可删除此目录中的文件<br>x 可以使用ls -l查看此目录中文件列表，可以cd进去<br>目录 X:只给目录x权限，不给文件x权限</p>\n<h2 id=\"特殊权限\"><a href=\"#特殊权限\" class=\"headerlink\" title=\"特殊权限\"></a>特殊权限</h2><p>###　可执行文件上的SUID权限<br>１.任何一个可执行程序文件能不能启动为进程:取决发起者对程序文件是否拥有执行权限<br>２.启动为进程之后，其进程的属主为原程序文件的属主<br>３.SUID只对二进制可执行程序有效<br>４.SUID设置在目录上无意义<br>权限设定:</p>\n\n    <pre><code class=\"lang-shell\">chmod u+s <span class=\"hljs-built_in\">file</span>\nchmod u-s <span class=\"hljs-built_in\">file</span>\n</code></pre>\n<h3 id=\"可执行文件上的SGID权限\"><a href=\"#可执行文件上的SGID权限\" class=\"headerlink\" title=\"可执行文件上的SGID权限\"></a>可执行文件上的SGID权限</h3><p>１．任何一个可执行程序文件能不能启动为进程；取决发起者对程序文件是否拥有执行权限<br>２．启动为进程之后，其进程的属主为远程序文件的属组<br>３．权限设定</p>\n<pre><code>chmod g+s file\nchmod g-s file\n</code></pre><h3 id=\"目录上的SGID权限\"><a href=\"#目录上的SGID权限\" class=\"headerlink\" title=\"目录上的SGID权限\"></a>目录上的SGID权限</h3><p>１．默认情况下，用户创建文件时，其属组为此用户所属的主组<br>２．一旦某目录被设定了SGID,则对此目录有写权限的用户在此目录中创建的文件所属的组为此目录的属组．<br>３．通常用于创建一个协作目录<br>４．权限设定</p>\n\n    <pre><code class=\"lang-shell\">chmod g+s <span class=\"hljs-built_in\">dir</span>\nchmod g-s <span class=\"hljs-built_in\">dir</span>\n</code></pre>\n<h3 id=\"Sticky位\"><a href=\"#Sticky位\" class=\"headerlink\" title=\"Sticky位\"></a>Sticky位</h3><p>１．具有写权限的目录通常用户可以删除该目录中的任何文件，无论该文件的权限或拥有权<br>２．在目录设置Sticky位，只有文件的所有者或root可以删除该文件<br>３．Sticky设置在文件上无意义</p>\n\n    <pre><code class=\"lang-shell\">chmod o+t <span class=\"hljs-built_in\">dir</span>\nchmod o-t <span class=\"hljs-built_in\">dir</span>\n</code></pre>\n<h3 id=\"设定文件特点属性\"><a href=\"#设定文件特点属性\" class=\"headerlink\" title=\"设定文件特点属性\"></a>设定文件特点属性</h3><p>chattr +i 不能删除，改名，更改<br>chattr +a 只能追加内容<br>lsattr 显示特定属性</p>\n","categories":[{"name":"Linux","path":"api/categories/Linux.json"}],"tags":[{"name":"linux","path":"api/tags/linux.json"}]}