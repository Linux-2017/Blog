<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Http Configure the source tree | Pursuit Blog&#39;s</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Httpd   Configure the source tree configure脚本配置Apache的源码树并且将其安装到指定的平台上。  语法 ./configure [OPTION]… [VAR=VALUE]…  选项 配置选项  下列选项会影响configure脚本自身的行为。方括号”[]”内是默认值。  ">
<meta name="keywords" content="HTTP,modules">
<meta property="og:type" content="article">
<meta property="og:title" content="Http Configure the source tree">
<meta property="og:url" content="https://shensir.info/2017/04/29/http-modules/index.html">
<meta property="og:site_name" content="Pursuit Blog&#39;s">
<meta property="og:description" content="Httpd   Configure the source tree configure脚本配置Apache的源码树并且将其安装到指定的平台上。  语法 ./configure [OPTION]… [VAR=VALUE]…  选项 配置选项  下列选项会影响configure脚本自身的行为。方括号”[]”内是默认值。  -C --config-cache       等价于 --cache-file">
<meta property="og:updated_time" content="2017-11-19T13:15:37.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Http Configure the source tree">
<meta name="twitter:description" content="Httpd   Configure the source tree configure脚本配置Apache的源码树并且将其安装到指定的平台上。  语法 ./configure [OPTION]… [VAR=VALUE]…  选项 配置选项  下列选项会影响configure脚本自身的行为。方括号”[]”内是默认值。  -C --config-cache       等价于 --cache-file">
  
    <link rel="alternate" href="/atom.xml" title="Pursuit Blog&#39;s" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Pursuit Blog&#39;s</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://shensir.info"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-http-modules" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/04/29/http-modules/" class="article-date">
  <time datetime="2017-04-29T01:24:28.000Z" itemprop="datePublished">2017-04-29</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Http Configure the source tree
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="Httpd-Configure-the-source-tree"><a href="#Httpd-Configure-the-source-tree" class="headerlink" title="Httpd   Configure the source tree"></a>Httpd   Configure the source tree</h3><blockquote>
<p>configure脚本配置Apache的源码树并且将其安装到指定的平台上。</p>
</blockquote>
<h4 id="语法"><a href="#语法" class="headerlink" title="语法"></a><strong>语法</strong></h4><blockquote>
<p>./configure [OPTION]… [VAR=VALUE]…</p>
</blockquote>
<h4 id="选项"><a href="#选项" class="headerlink" title="选项"></a><strong>选项</strong></h4><ul>
<li><p>配置选项</p>
<blockquote>
<p>下列选项会影响configure脚本自身的行为。方括号”[]”内是默认值。</p>
</blockquote>
<pre><code class="shell">-C
--config-cache  
    等价于 --cache-file=config.cache
--cache-file=FILE
    在FILE文件中缓存测试结果(默认禁用)。
-q
--quiet
    不显示脚本工作期间输出的&quot;checking ...&quot;消息
--srcdir=DIR
    指定源代码所在目录DIR
</code></pre>
</li>
<li><p>安装目录</p>
<blockquote>
<p>这些选项控制着安装目录的结构。安装目录的结构取决于所选择的布局。</p>
</blockquote>
<pre><code class="shell">--prefix=PREFIX
    体系无关文件的顶级安装目录PREFIX,也就是Apache的安装目录。默认安装目录[/usr/local/apache2]
--exec-prefix=EPREFIX
    体系相关文件的顶级安装目录PEPREFIX,把体系相关文件安装到不同的位置可以方便的在不同主机之间共享体系相关的文件。默认情况下,make install将会把所有文件分别安装到/usr/local/apache2/bin,/usr/local/apache2/lib目录下。可以用--prefix指定一个不同与/usr/local/apache2的安装前缀,比如:--prefix=$HOME
</code></pre>
<blockquote>
<p>定义一个目录布局</p>
</blockquote>
<pre><code class="shel">--enable-layout=LAYOUT
    使用名为LAYOUT的布局配置所有源代码和编译脚本。这样就允许你在安装apache时分别指定不同文件的安装位置。config.lauout文件中包含了默认布局的示例，如下:
</code></pre>
<pre><code class="shell">[root@72 httpd-2.4.25]# cat config.layout 
##
##  config.layout -- Pre-defined Installation Path Layouts
##
##  Hints:
##  - layouts can be loaded with configure&#39;s --enable-layout=ID option
##  - when no --enable-layout option is given, the default layout is `Apache&#39;
##  - a trailing plus character (`+&#39;) on paths is replaced with a 
##    `/&lt;target&gt;&#39; suffix where &lt;target&gt; is currently hardcoded to &#39;apache2&#39;.
##    (This may become a configurable parameter at some point.)
##
#   Classical Apache path layout.
&lt;Layout Apache&gt;
    prefix:        /usr/local/apache2
    exec_prefix:   ${prefix}
    bindir:        ${exec_prefix}/bin
    sbindir:       ${exec_prefix}/bin
    libdir:        ${exec_prefix}/lib
    libexecdir:    ${exec_prefix}/modules
    mandir:        ${prefix}/man
    sysconfdir:    ${prefix}/conf
    datadir:       ${prefix}
    installbuilddir: ${datadir}/build
    errordir:      ${datadir}/error
    iconsdir:      ${datadir}/icons
    htdocsdir:     ${datadir}/htdocs
    manualdir:     ${datadir}/manual
    cgidir:        ${datadir}/cgi-bin
    includedir:    ${prefix}/include
    localstatedir: ${prefix}
    runtimedir:    ${localstatedir}/logs
    logfiledir:    ${localstatedir}/logs
    proxycachedir: ${localstatedir}/proxy
&lt;/Layout&gt;
#   GNU standards conforming path layout.
#   See FSF&#39;s GNU project `make-stds&#39; document for details.
&lt;Layout GNU&gt;
    prefix:        /usr/local
    exec_prefix:   ${prefix}
    bindir:        ${exec_prefix}/bin
    sbindir:       ${exec_prefix}/sbin
    libdir:        ${exec_prefix}/lib
    libexecdir:    ${exec_prefix}/libexec
    mandir:        ${prefix}/man
    sysconfdir:    ${prefix}/etc+
    datadir:       ${prefix}/share+
    installbuilddir: ${datadir}/build
    errordir:      ${datadir}/error
    iconsdir:      ${datadir}/icons
    htdocsdir:     ${datadir}/htdocs
    manualdir:     ${datadir}/manual
    cgidir:        ${datadir}/cgi-bin
    includedir:    ${prefix}/include+
    localstatedir: ${prefix}/var+
    runtimedir:    ${localstatedir}/run
    logfiledir:    ${localstatedir}/log
    proxycachedir: ${localstatedir}/proxy
&lt;/Layout&gt;
#   Mac OS X Server (Rhapsody)
&lt;Layout Mac OS X Server&gt;
    prefix:        /Local/Library/WebServer
    exec_prefix:   /usr
    bindir:        ${exec_prefix}/bin
    sbindir:       ${exec_prefix}/sbin
    libdir:        ${exec_prefix}/lib
    libexecdir:    /System/Library/Apache/Modules
    mandir:        ${exec_prefix}/share/man
    sysconfdir:    ${prefix}/Configuration
    datadir:       ${prefix}
    installbuilddir: /System/Library/Apache/Build
    errordir:      /System/Library/Apache/Error
    iconsdir:      /System/Library/Apache/Icons
    manualdir:     /System/Library/Apache/Manual
    htdocsdir:     ${datadir}/Documents
    cgidir:        ${datadir}/CGI-Executables
    includedir:    /System/Library/Frameworks/Apache.framework/Versions/2.0/Headers
    localstatedir: /var
    runtimedir:    ${prefix}/Logs
    logfiledir:    ${prefix}/Logs
    proxycachedir: ${prefix}/ProxyCache
&lt;/Layout&gt;
#   Darwin/Mac OS Layout
&lt;Layout Darwin&gt;
    prefix:        /usr
    exec_prefix:   ${prefix}
    bindir:        ${exec_prefix}/bin
    sbindir:       ${exec_prefix}/sbin
    libdir:        ${exec_prefix}/lib
    libexecdir:    ${exec_prefix}/libexec+
    mandir:        ${prefix}/share/man
    datadir:       /Library/WebServer
    sysconfdir:    /etc+
    installbuilddir: ${prefix}/share/httpd/build
    errordir:      ${prefix}/share/httpd/error
    iconsdir:      ${prefix}/share/httpd/icons
    htdocsdir:     ${datadir}/Documents
    manualdir:     ${datadir}/share/httpd/manual
    cgidir:        ${datadir}/CGI-Executables
    includedir:    ${prefix}/include+
    localstatedir: /var
    runtimedir:    ${localstatedir}/run
    logfiledir:    ${localstatedir}/log+
    proxycachedir: ${runtimedir}/proxy
&lt;/Layout&gt;
#   Red Hat Linux 7.x layout
&lt;Layout RedHat&gt;
    prefix:        /usr
    exec_prefix:   ${prefix}
    bindir:        ${prefix}/bin
    sbindir:       ${prefix}/sbin
    libdir:        ${prefix}/lib
    libexecdir:    ${prefix}/lib/apache
    mandir:        ${prefix}/man
    sysconfdir:    /etc/httpd/conf
    datadir:       /var/www
    installbuilddir: ${datadir}/build
    errordir:      ${datadir}/error
    iconsdir:      ${datadir}/icons
    htdocsdir:     ${datadir}/html
    manualdir:     ${datadir}/manual
    cgidir:        ${datadir}/cgi-bin
    includedir:    ${prefix}/include/apache
    localstatedir: /var
    runtimedir:    ${localstatedir}/run
    logfiledir:    ${localstatedir}/log/httpd
    proxycachedir: ${localstatedir}/cache/httpd
&lt;/Layout&gt;     
#   According to the /opt filesystem conventions
&lt;Layout opt&gt;
    prefix:        /opt/apache
    exec_prefix:   ${prefix}
    bindir:        ${exec_prefix}/bin
    sbindir:       ${exec_prefix}/sbin
    libdir:        ${exec_prefix}/lib
    libexecdir:    ${exec_prefix}/libexec
    mandir:        ${prefix}/man
    sysconfdir:    /etc${prefix}
    datadir:       ${prefix}/share
    installbuilddir: ${datadir}/build
    errordir:      ${datadir}/error
    iconsdir:      ${datadir}/icons
    htdocsdir:     ${datadir}/htdocs
    manualdir:     ${datadir}/manual
    cgidir:        ${datadir}/cgi-bin
    includedir:    ${prefix}/include
    localstatedir: /var${prefix}
    runtimedir:    ${localstatedir}/run
    logfiledir:    ${localstatedir}/logs
    proxycachedir: ${localstatedir}/proxy
&lt;/Layout&gt;
#   SuSE 6.x layout
&lt;Layout SuSE&gt;
    prefix:        /usr
    exec_prefix:   ${prefix}
    bindir:        ${prefix}/bin
    sbindir:       ${prefix}/sbin
    libdir:        ${prefix}/lib
    libexecdir:    ${prefix}/lib/apache
    mandir:        ${prefix}/share/man
    sysconfdir:    /etc/httpd
    datadir:       /usr/local/httpd
    installbuilddir: ${datadir}/build
    errordir:      ${datadir}/error
    iconsdir:      ${datadir}/icons
    htdocsdir:     ${datadir}/htdocs
    manualdir:     ${datadir}/manual
    cgidir:        ${datadir}/cgi-bin
    includedir:    ${prefix}/include/apache
    localstatedir: /var/lib/httpd
    runtimedir:    /var/run
    logfiledir:    /var/log/httpd
    proxycachedir: /var/cache/httpd
&lt;/Layout&gt;
#   BSD/OS layout
&lt;Layout BSDI&gt;
    prefix:        /var/www
    exec_prefix:   /usr/contrib
    bindir:        ${exec_prefix}/bin
    sbindir:       ${exec_prefix}/bin
    libdir:        ${exec_prefix}/lib
    libexecdir:    ${exec_prefix}/libexec/apache
    mandir:        ${exec_prefix}/man
    sysconfdir:    ${prefix}/conf
    datadir:       ${prefix}
    installbuilddir: ${datadir}/build
    errordir:      ${datadir}/error
    iconsdir:      ${datadir}/icons
    htdocsdir:     ${datadir}/htdocs
    manualdir:     ${datadir}/manual
    cgidir:        ${datadir}/cgi-bin
    includedir:    ${exec_prefix}/include/apache
    localstatedir: /var
    runtimedir:    ${localstatedir}/run
    logfiledir:    ${localstatedir}/log/httpd
    proxycachedir: ${localstatedir}/proxy
&lt;/Layout&gt;
#   Solaris 8 Layout
&lt;Layout Solaris&gt;
    prefix:        /usr/apache
    exec_prefix:   ${prefix}
    bindir:        ${exec_prefix}/bin
    sbindir:       ${exec_prefix}/bin
    libdir:        ${exec_prefix}/lib
    libexecdir:    ${exec_prefix}/libexec
    mandir:        ${exec_prefix}/man
    sysconfdir:    /etc/apache
    datadir:       /var/apache
    installbuilddir: ${datadir}/build
    errordir:      ${datadir}/error
    iconsdir:      ${datadir}/icons
    htdocsdir:     ${datadir}/htdocs
    manualdir:     ${datadir}/manual
    cgidir:        ${datadir}/cgi-bin
    includedir:    ${exec_prefix}/include
    localstatedir: ${prefix}
    runtimedir:    /var/run
    logfiledir:    ${datadir}/logs
    proxycachedir: ${datadir}/proxy
&lt;/Layout&gt;
#   OpenBSD Layout
&lt;Layout OpenBSD&gt;
    prefix:        /var/www
    exec_prefix:   /usr
    bindir:        ${exec_prefix}/bin
    sbindir:       ${exec_prefix}/sbin
    libdir:        ${exec_prefix}/lib
    libexecdir:    ${exec_prefix}/lib/apache/modules
    mandir:        ${exec_prefix}/share/man
    sysconfdir:    ${prefix}/conf
    datadir:       ${prefix}
    installbuilddir: ${prefix}/build
    errordir:      ${prefix}/error
    iconsdir:      ${prefix}/icons
    htdocsdir:     ${prefix}/htdocs
    manualdir:     ${datadir}/manual
    cgidir:        ${prefix}/cgi-bin
    includedir:    ${exec_prefix}/lib/apache/include
    localstatedir: ${prefix}
    runtimedir:    ${prefix}/logs
    logfiledir:    ${prefix}/logs
    proxycachedir: ${prefix}/proxy
&lt;/Layout&gt;
# FreeBSD Layout
&lt;Layout FreeBSD&gt;
  prefix:        /usr/local
  exec_prefix:   ${prefix}
  bindir:        ${exec_prefix}/bin
  sbindir:       ${exec_prefix}/sbin
  libdir:        ${exec_prefix}/lib
  libexecdir:    ${exec_prefix}/libexec/apache2
  mandir:        ${prefix}/man
  sysconfdir:    ${prefix}/etc/apache2
  datadir:       ${prefix}/www
  installbuilddir: ${prefix}/share/apache2/build
  errordir:      ${datadir}/error
  iconsdir:      ${datadir}/icons
  htdocsdir:     ${datadir}/data
  manualdir:     ${prefix}/share/doc/apache2
  cgidir:        ${datadir}/cgi-bin
  includedir:    ${prefix}/include/apache2
  localstatedir: /var
  runtimedir:    ${localstatedir}/run
  logfiledir:    ${localstatedir}/log
  proxycachedir: ${datadir}/proxy
&lt;/Layout&gt;
# Debian layout
&lt;Layout Debian&gt;
    prefix:        
    exec_prefix:   ${prefix}/usr
    bindir:        ${exec_prefix}/bin
    sbindir:       ${exec_prefix}/sbin
    libdir:        ${exec_prefix}/lib
    libexecdir:    ${exec_prefix}/lib/apache2/modules
    mandir:        ${exec_prefix}/share/man
    sysconfdir:    ${prefix}/etc/apache2
    datadir:       ${exec_prefix}/share/apache2
    iconsdir:      ${datadir}/icons
    htdocsdir:     ${prefix}/usr/share/apache2/default-site/htdocs
    manualdir:     ${htdocsdir}/manual
    cgidir:        ${prefix}/usr/lib/cgi-bin
    includedir:    ${exec_prefix}/include/apache2
    localstatedir: ${prefix}/var/lock/apache2
    runtimedir:    ${prefix}/var/run/apache2
    logfiledir:    ${prefix}/var/log/apache2
    proxycachedir: ${prefix}/var/cache/apache2/proxy
    infodir:       ${exec_prefix}/share/info
    installbuilddir: ${prefix}/usr/share/apache2/build
    errordir:      ${datadir}/error
&lt;/Layout&gt;
# Generic RPM layout
&lt;Layout RPM&gt;
    prefix:        /usr
    exec_prefix:   ${prefix}
    bindir:        ${prefix}/bin
    sbindir:       ${prefix}/sbin
    libdir:        ${prefix}/lib
    libexecdir:    ${libdir}/httpd/modules
    mandir:        ${prefix}/share/man
    sysconfdir:    /etc/httpd/conf
    installbuilddir: ${libdir}/httpd/build
    includedir:    ${prefix}/include/httpd
    localstatedir: /var
    datadir:       ${localstatedir}/www
    errordir:      ${datadir}/error
    iconsdir:      ${datadir}/icons
    htdocsdir:     ${datadir}/html
    manualdir:     ${datadir}/manual
    cgidir:        ${datadir}/cgi-bin
    runtimedir:    ${localstatedir}/run
    logfiledir:    ${localstatedir}/log/httpd
    proxycachedir: ${localstatedir}/cache/httpd/cache-root
&lt;/Layout&gt;
# AIX layout
&lt;Layout AIX&gt;
    prefix:        /opt/httpd
    exec_prefix:   /opt/httpd
    bindir:        ${exec_prefix}/bin
    sbindir:       ${exec_prefix}/sbin
    libdir:        ${exec_prefix}/lib
    libexecdir:    ${exec_prefix}/libexec
    mandir:        /usr/share/man
    sysconfdir:    /etc/httpd
    datadir:       /var/httpd
    installbuilddir: ${datadir}/build
    errordir:      ${datadir}/error
    htdocsdir:     ${datadir}/htdocs
    cgidir:        ${datadir}/cgi-bin
    iconsdir:      ${prefix}/icons
    manualdir:     ${prefix}/manual
    includedir:    ${prefix}/include
    localstatedir: /var/httpd
    runtimedir:    ${localstatedir}/run
    logfiledir:    ${localstatedir}/logs
    proxycachedir: ${localstatedir}/proxy
&lt;/Layout&gt;
# FHS layout
&lt;Layout Slackware-FHS&gt;
    prefix:          /usr
    exec_prefix:     ${prefix}
    bindir:          ${prefix}/bin
    sbindir:         ${prefix}/sbin
    libdir:          ${prefix}/lib/httpd
    libexecdir:      ${prefix}/lib/httpd/modules
    installbuilddir: ${prefix}/lib/httpd/build
    mandir:          ${prefix}/man
    sysconfdir:      /etc/httpd
    datadir:         /srv/httpd
    iconsdir:        ${datadir}/icons
    htdocsdir:       ${datadir}/htdocs
    manualdir:       ${htdocsdir}/manual
    cgidir:          ${datadir}/cgi-bin
    errordir:        ${datadir}/error
    includedir:      ${prefix}/include/httpd
    localstatedir:   /var
    runtimedir:      ${localstatedir}/run/httpd
    logfiledir:      ${localstatedir}/log/httpd
    proxycachedir:   ${localstatedir}/cache/httpd
&lt;/Layout&gt;
</code></pre>
<blockquote>
<p>安装目录微调</p>
</blockquote>
<pre><code class="shell">--bindir=DIR
    用户可执行目录dir
--datadir=DIR
    web服务器只读的体系无关数据目录DIR，虽然autoconf提供了该选项，但Apache并未使用它
--includedir=DIR
    Apache的头文件DIR
--infodir=DIR
    信息文档目录DIR 。虽然autoconf提供了该选项，但Apache并未使用它。
--libdir=DIR
--libexecdir=DIR
    程序可执行目录DIR，也就是动态加载模块目录。
--localstatedir=DIR
    可写的单一数据目录DIR。
--mandir=DIR
--oldincludedir=DIR
    非gcc的C头文件目录DIR
--sbindir=DIR
--sharedstatedir=DIR
    可写的体系无关数据目录DIR。
--sysconfdir=DIR
    配置文件目录，只读的单一数据目录DIR，用于存放httpd.conf和mime.types之类的服务器配置文件。
</code></pre>
</li>
<li><p>系统类型</p>
<blockquote>
<p>这些选项用于交叉编译在其他平台上运行的Apache HTTP服务器。在同一平台编译和运行Apache不需要使用这些选项。</p>
</blockquote>
<pre><code class="shell">--build=BUILD
    指定编译文件所在的系统类型BUILD
--host=HOST
    指定Apache HTTP服务器将要运行的目标系统类型HOST
--target=TARGET
</code></pre>
</li>
<li><p>模块选项</p>
<blockquote>
<p>有两种使用模块的方法:一是静态连接进核心，二是作为DSO模块动态加载;如果编译中包含任何DSO模块，则mod_so会被自动包含进核心。如果希望核心能够装载DSO，但不实际编译任何DSO模块，需指明”–enable-so=static”</p>
</blockquote>
<ul>
<li>一般语法:<ul>
<li>–disable-MODULE    禁用module模块<ul>
<li>–enable-MODULE=shared将MODULE编译为DSO(可用于所有模块)</li>
<li>–enable-MODULE=static将MODULE静态连接进核心(仅用于扩展和实验模块)</li>
<li>–enable-mod-shared=MODULE-LIST将MODULE-LIST中的所有模块都编译成DSO</li>
<li>–enable-modules=MODULES-LIST将MODULE-LIST静态连接进核心</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>上述MODULES-LIST可以是:</p>
<p>​    1.用引号并且用空格分割的模块列表</p>
<p>​        <code>--enable-mods-shared=&#39;headers rewrite dav&#39;</code></p>
<p>​    2.”<code>most</code>“(大多数模块［遇见错误模块时忽略该模块而不中断配置过程］)<br>​    3.”<code>all</code>“(所有模块［遇见错误模块时中断配置过程并报错］)</p>
<p>​            <code>--enable-mods-shared=most</code>    </p>
<p><strong>注意</strong>:configure将忽略MODULE和MODULE-LIST中的拼写错误，注意仔细拼写。用于MODULE和MODULE-LIST中的名称是”mod<em>NAME”中去掉”mod</em>“并将剩余部分中的下划线”_”替换为连字符”-“以后的结果，比如”mod_log_config”模块应当表示为”log-config”。</p>
<ul>
<li><p>多路处理模块(MPM)</p>
<p>必须有而且只能有一个MPM模块包含进核心，可以使用下面配置进行选择:</p>
<p>​    –with-mpm=MPM</p>
<p>​其中，MPM是你想要使用的多路处理模块的名字，如果不使用这个选项，将会使用默认,centos的默认MPM为prefork</p>
</li>
<li><p>第三方模块</p>
<p>有至少两种方法可以添加第三方模块，最简单的方法是作为配置参数提供，语法如下：</p>
<ul>
<li><p><code>--with-module=module-type:module-file[, module-type:module-file]</code></p>
<p><code>module-file</code>是模块的源代码文件名，该文件必须位于Apahe源代码目录树的”<code>modules/module-type</code>“目录下，如果<code>configure</code>没有在那里找到module-file ，则将它看作一个绝对路径名并尝试将其复制到”<code>modules/module-type</code>“目录中，如果”<code>modules/module-type</code>“目录不存在，<code>configure</code>将新建一个”<code>modules/module-type</code>“目录并在其中放置一个标准的<code>Makefile.in</code>文件。这种方法有两个明显的缺陷：模块的源代码必须是单一文件模块只能静态连接进核心，而不能作为DSO模块所以一般并不使用此方法，而是使用<code>apxs</code>(Apache扩展工具)来添加第三方模块支持。</p>
</li>
</ul>
</li>
</ul>
</li>
<li><p>特殊程序包选项</p>
<ul>
<li><p>–with-apr=DIR</p>
</li>
<li><p>–with-apr-util=DIR</p>
</li>
<li><p>–with-ssl=DIR</p>
</li>
<li><p>–with-z=DIR</p>
<blockquote>
<p>如果你启用了压缩模块(比如<code>mod_deflate</code>)，<code>configure</code>脚本将会自动搜寻已经安装的<code>zlib</code>库，你可以在这里指定它的安装路径。</p>
</blockquote>
</li>
<li><p>–with-perl=DIR</p>
</li>
<li><p>–with-prcre=DIR</p>
</li>
<li><p>–with-ldap=DIR</p>
</li>
</ul>
</li>
<li><p>环境变量</p>
<ul>
<li>CC<br>  C编译器</li>
<li>CFLAGS<br>  C编译器的flags</li>
<li>CPP<br>  C预处理程序</li>
<li>CPPGLAGS<br>  C/C++预处理程序flags,比如使用”-Iincludedir”指定一个非标准的头文件目录includedir</li>
<li>LDFLAGS<br>  连接器flags<br>  ​</li>
</ul>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://shensir.info/2017/04/29/http-modules/" data-id="cjb05gx55000u86zuec2ex5ho" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/HTTP/">HTTP</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/modules/">modules</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2017/05/02/iptables/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          iptables/netfilter入门到进阶
        
      </div>
    </a>
  
  
    <a href="/2017/04/20/lvs-nat/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Lvs-Nat</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/HTTP-HEADER/">HTTP HEADER</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Haproxy/">Haproxy</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Keepalived/">Keepalived</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Tomcat/">Tomcat</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Ca/">Ca</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Fastdfs/">Fastdfs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTTP/">HTTP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTTP-HEADER/">HTTP HEADER</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Haproxy/">Haproxy</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Http/">Http</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Httpd/">Httpd</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Https/">Https</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Iptables/">Iptables</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Keepalived/">Keepalived</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux/">Linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Maradb/">Maradb</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mariadb/">Mariadb</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MogileFS/">MogileFS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Notes/">Notes</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ProxySQL/">ProxySQL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/bind/">bind</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/keepalived/">keepalived</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/lvs/">lvs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/modules/">modules</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nfs/">nfs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nginx/">nginx</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/session/">session</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/web/">web</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/中间件/">中间件</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/主从复制/">主从复制</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/分布式文件系统/">分布式文件系统</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/基础命令/">基础命令</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/文件共享/">文件共享</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/负载均衡/">负载均衡</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Ca/" style="font-size: 10px;">Ca</a> <a href="/tags/Fastdfs/" style="font-size: 10px;">Fastdfs</a> <a href="/tags/HTTP/" style="font-size: 10px;">HTTP</a> <a href="/tags/HTTP-HEADER/" style="font-size: 10px;">HTTP HEADER</a> <a href="/tags/Haproxy/" style="font-size: 10px;">Haproxy</a> <a href="/tags/Http/" style="font-size: 13.33px;">Http</a> <a href="/tags/Httpd/" style="font-size: 10px;">Httpd</a> <a href="/tags/Https/" style="font-size: 13.33px;">Https</a> <a href="/tags/Iptables/" style="font-size: 10px;">Iptables</a> <a href="/tags/Keepalived/" style="font-size: 10px;">Keepalived</a> <a href="/tags/Linux/" style="font-size: 20px;">Linux</a> <a href="/tags/Maradb/" style="font-size: 10px;">Maradb</a> <a href="/tags/Mariadb/" style="font-size: 13.33px;">Mariadb</a> <a href="/tags/MogileFS/" style="font-size: 10px;">MogileFS</a> <a href="/tags/Notes/" style="font-size: 13.33px;">Notes</a> <a href="/tags/ProxySQL/" style="font-size: 10px;">ProxySQL</a> <a href="/tags/bind/" style="font-size: 10px;">bind</a> <a href="/tags/keepalived/" style="font-size: 13.33px;">keepalived</a> <a href="/tags/linux/" style="font-size: 16.67px;">linux</a> <a href="/tags/lvs/" style="font-size: 10px;">lvs</a> <a href="/tags/modules/" style="font-size: 10px;">modules</a> <a href="/tags/nfs/" style="font-size: 10px;">nfs</a> <a href="/tags/nginx/" style="font-size: 13.33px;">nginx</a> <a href="/tags/session/" style="font-size: 10px;">session</a> <a href="/tags/web/" style="font-size: 13.33px;">web</a> <a href="/tags/中间件/" style="font-size: 10px;">中间件</a> <a href="/tags/主从复制/" style="font-size: 10px;">主从复制</a> <a href="/tags/分布式文件系统/" style="font-size: 10px;">分布式文件系统</a> <a href="/tags/基础命令/" style="font-size: 10px;">基础命令</a> <a href="/tags/文件共享/" style="font-size: 10px;">文件共享</a> <a href="/tags/负载均衡/" style="font-size: 13.33px;">负载均衡</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">June 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2017/06/12/Fastdfs安装配置/">Fastdfs安装配置</a>
          </li>
        
          <li>
            <a href="/2017/06/12/Maradb主从复制/">Maradb主从复制</a>
          </li>
        
          <li>
            <a href="/2017/06/12/Mariadb半同步复制及复制过滤器/">Mariadb半同步复制及复制过滤器</a>
          </li>
        
          <li>
            <a href="/2017/06/12/Maradb主主复制/">Maradb主主复制</a>
          </li>
        
          <li>
            <a href="/2017/06/12/MogileFS的安装配置/">MogileFS的安装配置</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017 Pursuit<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>